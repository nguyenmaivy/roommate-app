exports.id=407,exports.ids=[407],exports.modules={10809:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},12196:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(0,c(66013).io)("http://localhost:3001",{transports:["websocket"],autoConnect:!0})},13762:(a,b,c)=>{"use strict";c.d(b,{default:()=>g});var d=c(21124),e=c(42378);function f(){return(0,d.jsx)("footer",{className:"bg-gray-900 text-white mt-12",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-8 mb-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Về Ph\xf2ng Trọ"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Nền tảng t\xecm kiếm v\xe0 quản l\xfd ph\xf2ng trọ hiện đại"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Li\xean kết"}),(0,d.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#",className:"hover:text-white",children:"Trang chủ"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#",className:"hover:text-white",children:"Ph\xf2ng trọ"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#",className:"hover:text-white",children:"Li\xean hệ"})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Hỗ trợ"}),(0,d.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#",className:"hover:text-white",children:"FAQ"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#",className:"hover:text-white",children:"Điều khoản"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#",className:"hover:text-white",children:"Ch\xednh s\xe1ch"})})]})]})]}),(0,d.jsx)("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:(0,d.jsx)("p",{children:"\xa9 2025 Ph\xf2ng Trọ. Tất cả quyền được bảo lưu."})})]})})}function g(){return((0,e.usePathname)()||"").startsWith("/chat")?null:(0,d.jsx)(f,{})}},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>i});var d=c(75338),e=c(35991),f=c(44176),g=c(34955);c(82704);var h=c(37727);let i={title:"Ph\xf2ng Trọ - T\xecm Kiếm Ph\xf2ng Trọ Chất Lượng",description:"Nền tảng t\xecm kiếm v\xe0 quản l\xfd ph\xf2ng trọ hiện đại",generator:"v0.app"};function j({children:a}){return(0,d.jsx)("html",{lang:"vi",className:"mdl-js",children:(0,d.jsxs)("body",{className:"font-sans antialiased",children:[(0,d.jsxs)(h.UserProvider,{children:[(0,d.jsx)(f.default,{}),a]}),(0,d.jsx)(g.default,{}),(0,d.jsx)(e.Analytics,{})]})})}},34955:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Learn\\\\AWS workshop\\\\roommate-app\\\\frontend\\\\components\\\\ConditionalFooter.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Learn\\AWS workshop\\roommate-app\\frontend\\components\\ConditionalFooter.tsx","default")},37727:(a,b,c)=>{"use strict";c.d(b,{UserProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call UserProvider() from the server but UserProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Learn\\AWS workshop\\roommate-app\\frontend\\app\\Store\\UserContext.tsx","UserProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useUser() from the server but useUser is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Learn\\AWS workshop\\roommate-app\\frontend\\app\\Store\\UserContext.tsx","useUser")},40050:(a,b,c)=>{"use strict";c.d(b,{default:()=>p});var d=c(21124),e=c(38301),f=c(78733),g=c(10578),h=c(19710),i=c(3991),j=c.n(i),k=c(47089),l=c(72380),m=c(3368),n=c(56957);function o({isOpen:a,mode:b,onClose:c,onLoginSuccess:f}){let{user:g,setUser:h}=(0,n.J)(),[i,j]=(0,e.useState)("login"==b),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)({email:"",password:"",fullName:"",confirmPassword:""}),[s,t]=(0,e.useState)({});if(!a)return null;let u=a=>{let{name:b,value:c}=a.target;r(a=>({...a,[b]:c})),s[b]&&t(a=>{let c={...a};return delete c[b],c})},v=async a=>{if(a.preventDefault(),(()=>{let a={};return q.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q.email)||(a.email="Email kh\xf4ng hợp lệ"):a.email="Email kh\xf4ng được để trống",q.password?q.password.length<6&&(a.password="Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự"):a.password="Mật khẩu kh\xf4ng được để trống",i||(q.fullName||(a.fullName="T\xean đầy đủ kh\xf4ng được để trống"),q.password!==q.confirmPassword&&(a.confirmPassword="Mật khẩu x\xe1c nhận kh\xf4ng khớp")),t(a),0===Object.keys(a).length})())try{let a=await fetch(i?"http://localhost:3001/login":"http://localhost:3001/register",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(i?{email:q.email,password:q.password}:{email:q.email,password:q.password,name:q.fullName})}),b=await a.json();if(!a.ok)return void t({apiError:b.error||"C\xf3 lỗi xảy ra"});f({name:b.user.name,email:b.user.email,role:b.user.role}),h({id:b.user.email,name:b.user.name,role:b.user.role}),r({email:"",password:"",fullName:"",confirmPassword:""}),c()}catch(a){t({apiError:"Kh\xf4ng thể kết nối server"})}};return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-screen overflow-y-auto",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-500 px-6 py-8 flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-white",children:i?"Đăng Nhập":"Đăng K\xfd"}),(0,d.jsx)("button",{onClick:c,className:"text-white hover:bg-white/20 p-2 rounded-lg transition",children:(0,d.jsx)(k.A,{className:"w-5 h-5"})})]}),(0,d.jsxs)("form",{onSubmit:v,className:"p-6 space-y-4",children:[s.apiError&&(0,d.jsx)("p",{className:"text-red-500 text-sm text-center",children:s.apiError}),!i&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xean đầy đủ"}),(0,d.jsx)("input",{type:"text",name:"fullName",value:q.fullName,onChange:u,placeholder:"Nhập t\xean của bạn",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition ${s.fullName?"border-red-500":"border-gray-300"}`}),s.fullName&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.fullName})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,d.jsx)("input",{type:"email",name:"email",value:q.email,onChange:u,placeholder:"your@email.com",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition ${s.email?"border-red-500":"border-gray-300"}`}),s.email&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:o?"text":"password",name:"password",value:q.password,onChange:u,placeholder:"••••••••",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition pr-10 ${s.password?"border-red-500":"border-gray-300"}`}),(0,d.jsx)("button",{type:"button",onClick:()=>p(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:o?(0,d.jsx)(l.A,{className:"w-4 h-4"}):(0,d.jsx)(m.A,{className:"w-4 h-4"})})]}),s.password&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.password})]}),!i&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"X\xe1c nhận mật khẩu"}),(0,d.jsx)("input",{type:"password",name:"confirmPassword",value:q.confirmPassword,onChange:u,placeholder:"••••••••",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition ${s.confirmPassword?"border-red-500":"border-gray-300"}`}),s.confirmPassword&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.confirmPassword})]}),(0,d.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-indigo-600 to-indigo-500 text-white font-semibold py-2 rounded-lg hover:from-indigo-700 hover:to-indigo-600 transition mt-6",children:i?"Đăng Nhập":"Đăng K\xfd"}),(0,d.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-4",children:[i?"Chưa c\xf3 t\xe0i khoản?":"Đ\xe3 c\xf3 t\xe0i khoản?"," ",(0,d.jsx)("button",{type:"button",onClick:()=>{t({})},className:"text-indigo-600 font-semibold hover:underline",children:i?"Đăng k\xfd ngay":"Đăng nhập"})]})]})]})})}function p(){let{user:a,setUser:b}=(0,n.J)(),[c,i]=(0,e.useState)(!1),[k,l]=(0,e.useState)({open:!1,mode:"login"}),m=async()=>{await fetch("http://localhost:3001/logout",{method:"POST",credentials:"include"}),b({}),i(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-40",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[(0,d.jsxs)(j(),{href:"/",className:"text-3xl font-extrabold text-indigo-600 flex items-center",children:[(0,d.jsx)(f.A,{className:"w-8 h-8 mr-2"})," RoomMate"]}),(0,d.jsx)("div",{className:"flex items-center space-x-4",children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,d.jsx)(g.A,{className:"w-4 h-4 mr-1 text-indigo-500"}),(0,d.jsxs)("span",{children:["Xin ch\xe0o, ",(0,d.jsx)("strong",{children:a.name.split(" ")[0]})]})]}),(0,d.jsx)(j(),{href:"/search",className:"text-sm font-medium text-gray-700 hover:text-indigo-600",children:"T\xecm Ph\xf2ng"}),(0,d.jsx)(j(),{href:"/post-room",className:"text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Đăng Tin"}),(0,d.jsx)(j(),{href:"/chat",className:"text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Chat"}),(0,d.jsxs)("button",{onClick:m,className:"px-3 py-1 text-sm bg-red-500 text-white rounded-full hover:bg-red-600 transition font-medium flex items-center gap-1",children:[(0,d.jsx)(h.A,{className:"w-4 h-4"}),"Đăng xuất"]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j(),{href:"/search",className:"text-sm font-medium text-gray-700 hover:text-indigo-600",children:"T\xecm Ph\xf2ng"}),(0,d.jsx)("button",{onClick:()=>l({open:!0,mode:"login"}),className:"px-4 py-2 text-sm font-medium text-indigo-600 border border-indigo-600 rounded hover:bg-indigo-50 transition",children:"Đăng nhập"}),(0,d.jsx)("button",{onClick:()=>l({open:!0,mode:"signup"}),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded hover:bg-indigo-700 transition",children:"Đăng k\xfd"})]})})]})}),(0,d.jsx)(o,{isOpen:k.open,onClose:()=>l({open:!1,mode:"login"}),onLoginSuccess:a=>{b(a),i(!0)},mode:k.mode})]})}},44176:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Learn\\\\AWS workshop\\\\roommate-app\\\\frontend\\\\components\\\\Navbar.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Learn\\AWS workshop\\roommate-app\\frontend\\components\\Navbar.js","default")},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},52963:(a,b,c)=>{Promise.resolve().then(c.bind(c,56957)),Promise.resolve().then(c.bind(c,13762)),Promise.resolve().then(c.bind(c,40050)),Promise.resolve().then(c.bind(c,69977))},53643:(a,b,c)=>{Promise.resolve().then(c.bind(c,37727)),Promise.resolve().then(c.bind(c,34955)),Promise.resolve().then(c.bind(c,44176)),Promise.resolve().then(c.bind(c,35991))},56957:(a,b,c)=>{"use strict";c.d(b,{J:()=>i,UserProvider:()=>h});var d=c(21124),e=c(38301),f=c(12196);let g=(0,e.createContext)(void 0),h=({children:a})=>{let[b,c]=(0,e.useState)(null);return(0,e.useEffect)(()=>{b?.id&&(f.s.emit("register",b.id),console.log("\uD83D\uDCE1 Registered user:",b.id))},[b]),(0,d.jsx)(g.Provider,{value:{user:b,setUser:c},children:a})},i=()=>{let a=(0,e.useContext)(g);if(!a)throw Error("useUser must be used within UserProvider");return a}},82704:()=>{},97657:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))}};