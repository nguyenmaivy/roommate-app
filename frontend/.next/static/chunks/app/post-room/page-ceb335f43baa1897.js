(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[251],{63:(e,r,t)=>{"use strict";var a=t(7260);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},497:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(5155),l=t(2115),i=t(63),n=t(4003),s=t(9168);function o(){let e=(0,i.useRouter)(),[r]=(0,l.useState)({id:"L1",role:n.iK.LANDLORD}),t=async t=>{try{(await fetch("".concat("http://localhost:3001","/rooms"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,landlordId:r.id,price:Number(t.price),area:Number(t.area)})})).ok&&e.push("/search")}catch(e){console.error("Save room error:",e)}};return r.role!==n.iK.LANDLORD?(0,a.jsx)("p",{children:"Chỉ chủ trọ được đăng tin."}):(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Đăng Tin Ph\xf2ng Trọ"}),(0,a.jsx)(s.A,{roomToEdit:null,onClose:()=>e.push("/"),onSave:t})]})}},1847:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(2115);let l=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},i=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...n,width:l,height:l,stroke:t,strokeWidth:o?24*Number(s)/Number(l):s,className:i("lucide",c),...!d&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),o=(e,r)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:o,...c}=t;return(0,a.createElement)(s,{ref:n,iconNode:r,className:i("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return t.displayName=l(e),t}},4003:(e,r,t)=>{"use strict";t.d(r,{U9:()=>a,iK:()=>l});let a=[{key:"wifi",label:"Wifi"},{key:"wc",label:"WC ri\xeang"},{key:"airCon",label:"M\xe1y lạnh"},{key:"parking",label:"Chỗ để xe"},{key:"kitchen",label:"Bếp"}],l={STUDENT:"STUDENT",LANDLORD:"LANDLORD"}},5229:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8560:(e,r,t)=>{Promise.resolve().then(t.bind(t,497))},9168:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var a=t(5155),l=t(2115),i=t(5229),n=t(4003);function s(e){let{roomToEdit:r,onClose:t,onSave:s}=e,[o,c]=(0,l.useState)(r||{title:"",location:"",price:"",area:"",amenities:[],imageUrl:"",description:""}),d=!!r,u=e=>{let{name:r,value:t}=e.target;c(e=>({...e,[r]:t}))},m=e=>{let{label:r,name:t,type:l="text",placeholder:i,value:n,required:s=!0}=e;return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,a.jsx)("input",{type:l,name:t,value:n,onChange:u,placeholder:i,required:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"})]})};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/25 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto w-full max-w-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:d?"Sửa Ph\xf2ng Trọ":"Đăng Tin Ph\xf2ng Trọ Mới"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition",children:(0,a.jsx)(i.A,{className:"w-6 h-6"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(o),t()},children:[(0,a.jsx)(m,{label:"Ti\xeau đề",name:"title",placeholder:"Ph\xf2ng trọ đẹp, full nội thất...",value:o.title}),(0,a.jsx)(m,{label:"Địa chỉ/Khu vực",name:"location",placeholder:"Quận 1, TP.HCM",value:o.location}),(0,a.jsx)(m,{label:"Gi\xe1 (VNĐ/th\xe1ng)",name:"price",type:"number",placeholder:"4500000",value:o.price}),(0,a.jsx)(m,{label:"Diện t\xedch (m\xb2)",name:"area",type:"number",placeholder:"25",value:o.area}),(0,a.jsx)(m,{label:"URL H\xecnh ảnh (M\xf4 phỏng S3)",name:"imageUrl",placeholder:"https://placehold.co/400x300...",value:o.imageUrl,required:!1}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiện \xedch"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:n.U9.map(e=>(0,a.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.amenities.includes(e.key),onChange:()=>{var r;return r=e.key,void c(e=>{let t=e.amenities.includes(r)?e.amenities.filter(e=>e!==r):[...e.amenities,r];return{...e,amenities:t}})},className:"rounded text-indigo-600 focus:ring-indigo-500 h-4 w-4 mr-2 border-gray-300"}),e.label]},e.key))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xf4 tả chi tiết"}),(0,a.jsx)("textarea",{name:"description",value:o.description,onChange:u,rows:"3",placeholder:"M\xf4 tả chi tiết về ph\xf2ng trọ v\xe0 c\xe1c quy định...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full py-3 px-4 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition",children:d?"Lưu Thay Đổi":"Đăng Tin Mới"})]})]})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=8560)),_N_E=e.O()}]);